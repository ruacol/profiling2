@using System.Configuration;
@{
    ViewBag.Title = "Background Jobs";
}

<h2>Background Jobs</h2>

<p>View the <a href="@(Request.ApplicationPath + "/")hangfire/" target="_blank">background jobs dashboard</a>.</p>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Job</th>
            <th>Description</th>
            <th>Register</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Source folder counts report</td>
            <td>Generates an email report of source folder counts at the time of emailing. Scheduled monthly. Received by holders of <em>CanUploadSources</em> permission.</td>
            <td>@Html.ActionLink("Register", "RegisterSourceFolderCountsReportJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Profiling count report</td>
            <td>Generates an email report of the profiling counts at the time of emailing. Scheduled weekly. Received by holders of <em>CanViewPersonReports</em> permission.</td>
            <td>@Html.ActionLink("Register", "RegisterProfilingCountsReportJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Feeding source report</td>
            <td>Generates an email report of the feeding source statistics for the previous one week. Scheduled weekly. Received by holders of <em>CanApproveAndRejectSources</em> permission.</td>
            <td>@Html.ActionLink("Register", "RegisterFeedingSourceReportJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Temp directory cleanup</td>
            <td>Deletes jpeg and png files generated by previews from the temp directory. Scheduled daily.</td>
            <td>@Html.ActionLink("Register", "RegisterTempCleanupJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Process source previews</td>
            <td>Processes new sources, finding problems when previewing, including those sources that are password protected. Scheduled daily.</td>
            <td>@Html.ActionLink("Register", "RegisterProcessSourcePreviewsJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Import from OHCHR HRDB</td>
            <td>Import new and updated OHCHR cases from OHCHR HRDB. Scheduled daily.</td>
            <td>@Html.ActionLink("Register", "RegisterDailyOhchrImportJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Reset Lucene indexes</td>
            <td>Delete and recreate search indexes. Scheduled daily.</td>
            <td>@Html.ActionLink("Register", "RegisterResetLuceneIndexesJob", "Background", null, null)</td>
        </tr>
        <tr>
            <td>Update source index</td>
            <td>Add any unindexed sources to index. Scheduled daily.</td>
            <td>@Html.ActionLink("Register", "RegisterUpdateSourceIndexJob", "Background", null, null)</td>
        </tr>
    </tbody>
</table>
